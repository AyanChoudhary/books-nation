(this["webpackJsonpbook-nation"]=this["webpackJsonpbook-nation"]||[]).push([[0],{31:function(e,a,t){e.exports=t(62)},36:function(e,a,t){},37:function(e,a,t){},38:function(e,a,t){},62:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(29),s=t.n(l),r=(t(36),t(12)),i=t(1),c=(t(37),t(6)),u=t(7),m=t(9),h=t(8),d=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"header"},"Book",o.a.createElement("span",{className:"nation"},"Nation"))}}]),t}(n.Component),g=(t(38),t(15)),b=function(e){return o.a.createElement("div",{className:"filter"},o.a.createElement("span",{className:"label"},"Filter By:"),o.a.createElement("select",{className:"filterBy categoryDropdown",value:e.filter,onChange:e.handleFilter},o.a.createElement("option",{value:null},"None"),o.a.createElement("option",{value:"full"},"Full"),o.a.createElement("option",{value:"partial"},"Partial"),o.a.createElement("option",{value:"ebooks"},"eBooks"),o.a.createElement("option",{value:"free-ebooks"},"Free eBooks"),o.a.createElement("option",{value:"paid-ebooks"},"Paid eBooks")),o.a.createElement("select",{className:"filterBy LanguageDropdown",value:e.languageRestriction,onChange:e.handleLanguageRes},o.a.createElement("option",{value:null},"All"),o.a.createElement("option",{value:"en"},"English"),o.a.createElement("option",{value:"fr"},"French"),o.a.createElement("option",{value:"de"},"German"),o.a.createElement("option",{value:"hi"},"Hindi"),o.a.createElement("option",{value:"es"},"Spanish"),o.a.createElement("option",{value:"ru"},"Russian")))},p=function e(a){return e.defaultProps={sort:"relevance"},o.a.createElement("div",{className:"searchbar"},o.a.createElement("form",{onSubmit:a.handleSort,action:""},o.a.createElement("div",{className:"field"},o.a.createElement("label",{className:"label"},"Search By: "),o.a.createElement("input",{type:"text",className:"searchfield",placeholder:"Search by",onChange:a.handleSearch})),o.a.createElement("div",{className:"field"},o.a.createElement("label",{className:"label"},"Book Title: "),o.a.createElement("input",{type:"text",className:"searchfield",placeholder:"Enter book title",onChange:a.handleBookTitle})),o.a.createElement("div",{className:"field"},o.a.createElement("label",{className:"label"},"Author Name: "),o.a.createElement("input",{type:"text",className:"searchfield",placeholder:"Enter Author name",onChange:a.handleAuthorName})),o.a.createElement("div",{className:"field"},o.a.createElement("label",{className:"label"},"Publisher Name: "),o.a.createElement("input",{type:"text",className:"searchfield",placeholder:"Enter Publisher name",onChange:a.handlePublisherName})),o.a.createElement("button",{type:"submit",className:"button"},"Search"),o.a.createElement("div",{className:"properties"},o.a.createElement(b,{handleLanguageRes:a.handleLanguageRes,handleFilter:a.handleFilter,filter:a.filter,languageRestriction:a.languageRestriction}),o.a.createElement("div",{className:"sortBy",onClick:a.handleSort},o.a.createElement("span",{className:"label"},"Sort By:"),o.a.createElement("button",{value:"relevance",className:"sortButton left-button ".concat("relevance"===a.sort?"active":"")},"Relevance"),o.a.createElement("button",{value:"newest",className:"sortButton right-button ".concat("newest"===a.sort?"active":"")},"Newest")))))},v=t(39).create({headers:{"Content-Type":"application/json",Accept:"application/json"},baseURL:"https://www.googleapis.com/books/v1/volumes"});function f(e,a,t,n,o){return v.get("",{params:{q:e,orderBy:a,filter:t,langRestrict:n,startIndex:o}}).then((function(e){return JSON.parse(e.request.response)})).catch((function(e){return Promise.reject(e)}))}var k=function(e){var a=e.book.volumeInfo.hasOwnProperty("publishedDate")?e.book.volumeInfo.publishedDate.substring(0,4):e.book.volumeInfo.publishedDate="0000",t=e.book.volumeInfo.hasOwnProperty("averageRating")?e.book.volumeInfo.averageRating:e.book.volumeInfo.averageRating="1",n=e.book.volumeInfo.hasOwnProperty("imageLinks")?e.book.volumeInfo.imageLinks.thumbnail:1;return o.a.createElement(r.b,{to:"/".concat(e.book.id)},o.a.createElement("div",{className:"bookCard"},o.a.createElement("div",{className:"bookCard-bookThumbnail"},o.a.createElement("img",{src:n,alt:e.book.volumeInfo.title})),o.a.createElement("div",{className:"bookCard-bookInfo"},o.a.createElement("div",{className:"bookCard-bookInformation"},o.a.createElement("span",{className:"cardLabel"},"Name: "),e.book.volumeInfo.title),o.a.createElement("div",{className:"bookCard-bookInformation"},o.a.createElement("span",{className:"cardLabel"},"Authors: "),e.book.volumeInfo.authors),o.a.createElement("div",{className:"bookCard-bookInformation"},o.a.createElement("span",{className:"cardLabel"},"Publisher: "),e.book.volumeInfo.publisher),o.a.createElement("div",{className:"bookCard-bookInformation"},o.a.createElement("span",{className:"cardLabel"},"Published Year: "),a),o.a.createElement("div",{className:"bookCard-bookInformation"},o.a.createElement("span",{className:"cardLabel"},"Language: "),e.book.volumeInfo.language.toUpperCase()),o.a.createElement("div",{className:"bookCard-bookInformation"},o.a.createElement("span",{className:"cardLabel"},"Rating: "),t,"/5"))))},E=t(13),N=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;if(Object(c.a)(this,t),(n=a.call(this,e)).state={pageNumbers:[1],booksPerPage:10,totalPages:Math.ceil(e.totalBooks/10),currentPage:n.props.currentPage},n.pageNumbers=[],n.state.currentPage<5){n.state.pageNumbers.splice(1,0,n.state.totalPages),n.state.pageNumbers.splice(1,0,"...");for(var o=5;o>=2;o--)n.state.pageNumbers.splice(1,0,o)}else if(n.state.currentPage>n.state.totalPages-4){n.state.pageNumbers.splice(1,0,n.state.totalPages);for(var l=n.state.totalPages-1;l>=n.state.totalPages-4;l--)n.state.pageNumbers.splice(1,0,l);n.state.pageNumbers.splice(1,0,"...")}else{n.state.pageNumbers.splice(1,0,n.state.totalPages),n.state.pageNumbers.splice(1,0,"...");for(var s=n.state.currentPage+2;s>=n.state.currentPage-2;s--)n.state.pageNumbers.splice(1,0,s);n.state.pageNumbers.splice(1,0,"...")}return n.handlePaginationNext=n.handlePaginationNext.bind(Object(E.a)(n)),n.handlePaginationPrev=n.handlePaginationPrev.bind(Object(E.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(E.a)(n)),n}return Object(u.a)(t,[{key:"handlePaginationNext",value:function(){this.state.currentPage<this.state.totalPages&&this.props.onPageChange(this.state.currentPage+1)}},{key:"handlePaginationPrev",value:function(){this.state.currentPage>1&&this.props.onPageChange(this.state.currentPage-1)}},{key:"handlePageChange",value:function(e){this.setState({currentPage:e}),this.props.onPageChange(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"pagination"},o.a.createElement("div",{className:"pagination-prev ".concat(this.state.currentPage<=1?"isDisabled":""),onClick:this.handlePaginationPrev},"Prev"),o.a.createElement("div",{className:"pagination-list"},this.state.pageNumbers.map((function(a){return o.a.createElement("div",{key:a,className:"pagination-element ".concat(e.state.currentPage===a?"active":""),onClick:function(){e.handlePageChange(a)}},a)}))),o.a.createElement("div",{className:"pagination-next ".concat(this.state.currentPage===this.state.totalPages?"isDisabled":""),onClick:this.handlePaginationNext},"Next"))}}]),t}(n.Component),P=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"booklistPage"},o.a.createElement("div",{className:"bookslist"},this.props.books.map((function(e){return o.a.createElement(k,{key:e,book:e})}))),this.props.books.length?o.a.createElement(N,{totalBooks:this.props.totalBooks,onPageChange:this.props.onPageChange,currentPage:this.props.currentPage}):null)}}]),t}(n.Component),I=function(){return o.a.createElement("div",{className:"spinner"},o.a.createElement("i",{className:"fa fa-spinner fa-pulse"}),o.a.createElement("p",null,"Fetching Books..."))},B=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=a.call.apply(a,[this].concat(o))).handleRemove=function(){e.props.handleFilter?e.props.handleFilter():e.props.handleLanguageRes&&e.props.handleLanguageRes()},e}return Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"chip"},o.a.createElement("div",{className:"filterName"},this.props.filter),o.a.createElement("i",{className:"fas fa-times-circle",value:"none",onClick:this.handleRemove}))}}]),t}(n.Component),y=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).handleSearch=function(e){n.setState({searchField:e.target.value})},n.handleBookTitle=function(e){n.setState({bookTitle:"+intitle:".concat(e.target.value)})},n.handleAuthorName=function(e){n.setState({authorName:"+inauthor:".concat(e.target.value)})},n.handlePublisherName=function(e){n.setState({publisherName:"+inpublisher:".concat(e.target.value)})},n.handleSort=function(e){e.preventDefault(),void 0!==e.target.value&&n.setState({sort:e.target.value}),n.handleRequest()},n.handleFilter=function(e){null==e?n.setState({filter:null}):"none"!==e.target.value?n.setState({filter:e.target.value}):n.setState({filter:null}),n.handleRequest()},n.handleLanguageRes=function(e){void 0!==e?n.setState({languageRestriction:e.target.value}):n.setState({languageRestriction:null}),n.handleRequest()},n.handlePage=function(e){n.setState({startIndex:10*(e-1),currentPage:e}),n.handleRequest()},n.handleRequest=function(){n.q=n.state.searchField+n.state.bookTitle+n.state.authorName+n.state.publisherName,""!==n.state.searchField?n.setState({isLoading:!0},(function(){f(n.q,n.state.sort,n.state.filter,n.state.languageRestriction,n.state.startIndex).then((function(e){n.setState({isLoading:!1,books:Object(g.a)(e.items),totalBooks:e.totalItems})})).catch((function(e){n.setState({isLoading:!1,currentPage:1}),alert(e)}))})):alert("Please input Search Query")},n.state={books:[],totalBooks:0,searchField:"",bookTitle:"",authorName:"",publisherName:"",sort:"relevance",isLoading:!1,filter:null,languageRestriction:null,startIndex:0,currentPage:1},n}return Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"landing"},o.a.createElement(p,{searchBook:this.searchBook,handleSearch:this.handleSearch,handleBookTitle:this.handleBookTitle,handleAuthorName:this.handleAuthorName,handlePublisherName:this.handlePublisherName,handleSort:this.handleSort,sort:this.state.sort,filter:this.state.filter,languageRestriction:this.state.languageRestriction,handleFilter:this.handleFilter,handleLanguageRes:this.handleLanguageRes}),o.a.createElement("div",{className:"chipComponents"},this.state.filter?o.a.createElement(B,{filter:this.state.filter,handleFilter:this.handleFilter}):null,this.state.languageRestriction?o.a.createElement(B,{filter:this.state.languageRestriction,handleLanguageRes:this.handleLanguageRes}):null),this.state.isLoading?o.a.createElement(I,null):o.a.createElement(P,{books:this.state.books,totalBooks:this.state.totalBooks,onPageChange:this.handlePage,currentPage:this.state.currentPage}))}}]),t}(n.Component),C=function(e){var a=e.book.volumeInfo.hasOwnProperty("imageLinks")?e.book.volumeInfo.imageLinks.thumbnail:1;return o.a.createElement(r.b,{to:"/".concat(e.book.id)},o.a.createElement("div",{className:"suggestedbookCard"},o.a.createElement("div",{className:"suggestedBookCard-bookThumbnail"},o.a.createElement("img",{src:a,alt:e.book.volumeInfo.title})),o.a.createElement("div",{className:"suggestedBookCard-bookInfo"},o.a.createElement("div",{className:"suggestedBookCard-bookInformation"},o.a.createElement("span",{className:"cardLabel"},"Name: "),e.book.volumeInfo.title))))},S=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={BookId:n.props.match.params.id,isLoading:!1,Book:{title:"",authors:[],publisher:"",publishedDate:"",description:"",thumbnail:"",pagecount:"",saleInfo:"",category:[],link:"",ebook:""},suggestions:[]},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0},(function(){var a;(a=e.state.BookId,v.get("/".concat(a)).then((function(e){return JSON.parse(e.request.response)})).catch((function(e){return Promise.reject(e)}))).then((function(a){e.setState({isLoading:!1,Book:{title:a.volumeInfo.title,authors:a.volumeInfo.authors,publisher:a.volumeInfo.publisher,publishedDate:a.volumeInfo.publishedDate,description:a.volumeInfo.description,thumbnail:a.volumeInfo.imageLinks.thumbnail,pagecount:a.volumeInfo.pageCount,saleInfo:a.saleInfo.saleability,category:a.volumeInfo.categories,link:a.accessInfo.webReaderLink,ebook:a.saleInfo.saleability.isEbook}}),e.query="".concat(a.volumeInfo.title,"+subject=").concat(a.volumeInfo.categories),f(e.query).then((function(a){e.setState({suggestions:Object(g.a)(a.items)})})).catch((function(e){alert("Error while getting suggestions")}))})).catch((function(a){e.setState({isLoading:!1}),alert(a)}))}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"bookInfo"},o.a.createElement("div",{className:"title"},this.state.Book.title),o.a.createElement("div",{className:"bookProperties"},o.a.createElement("div",{className:"image"},o.a.createElement("div",{className:"thumbnail"},o.a.createElement("img",{src:this.state.Book.thumbnail,alt:this.state.Book.title})),o.a.createElement("a",{className:"button",href:this.state.Book.link},"Go to Book")),o.a.createElement("div",{className:"smallInfo"},o.a.createElement("div",{className:"author"},o.a.createElement("span",{className:"label"},"Authors:"),this.state.Book.authors),o.a.createElement("div",{className:"publisher"},o.a.createElement("span",{className:"label"},"Publisher:"),this.state.Book.publisher),o.a.createElement("div",{className:"published date"},o.a.createElement("span",{className:"label"},"Published Date:"),this.state.Book.publishedDate),o.a.createElement("div",{className:"saleinfo"},o.a.createElement("span",{className:"label"},"Sale Info:"),this.state.Book.saleInfo),o.a.createElement("div",{className:"ebook"},o.a.createElement("span",{className:"label"},"E-book:"),this.state.Book.ebook?"Available":"Not available"),o.a.createElement("div",{className:"pagecount"},o.a.createElement("span",{className:"label"},"Page Count:"),this.state.Book.pagecount))),o.a.createElement("label",{className:"descLabel"},"About the Book"),o.a.createElement("div",{className:"description"},this.state.Book.description),o.a.createElement("div",{className:"suggestions"},o.a.createElement("label",{className:"descLabel"},"Suggested Books"),o.a.createElement("div",{className:"suggestedBooks"},this.state.suggestions.map((function(e){return o.a.createElement(C,{key:e,book:e})})))))}}]),t}(n.Component);var L=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(r.a,null,o.a.createElement(d,null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:y}),o.a.createElement(i.a,{exact:!0,path:"/:id",component:S}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.c3c5c371.chunk.js.map